{"ast":null,"code":"var _jsxFileName = \"/Users/samo/Documents/VSVU/Fragmenty/fragmenty-web/src/Navigation.js\";\nimport React, { Component } from 'react';\nimport './navigation.css';\nimport HighlightTitle from \"./svg/highlight.svg\";\nimport MapTitle from \"./svg/map.svg\";\nimport Ordinament from \"./svg/ordinament.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet activeCategory = 0;\nlet music = false;\nlet matrixNavigation = null;\nconst toHighlight = [[12, 17, 18, 22, 34, 64, 66], [13, 26, 28, 29, 33, 66, 70, 71], [33, 37, 38, 43, 44, 48, 49, 51, 54, 62, 69], [12, 13, 22, 26, 27, 28, 29, 35, 71]];\nconst locationLat = [null, null, 48.093801, null, null, null, null, 48.094523, 48.093969, null, null, 48.107734, 48.102450, 48.097751, null, null, 48.136113, 48.136113, null, null, null, 48.135618, 48.134045, null, null, 48.133760, 48.134358, 48.136586, 48.136929, null, null, null, 48.141532, 48.141907, 48.143161, null, 48.143850, 48.144397, 48.142289, null, null, null, 48.145405, 48.146161, null, null, 48.150013, 48.151375, 48.152720, null, 48.158561, 48.157362, null, 48.148841, null, null, 48.159203, 48.159203, 48.159203, null, null, 48.159959, 48.160330, 48.160187, null, 48.178587, null, null, 48.166760, 48.166361, 48.187033, null, null, null, null];\nconst locationLng = [null, null, 17.109355, null, null, null, null, 17.109346, 17.109271, null, null, 17.119957, 17.108921, 17.110219, null, null, 17.120805, 17.120805, null, null, null, 17.130201, 17.113912, null, null, 17.138520, 17.128285, 17.122677, 17.104718, null, null, null, 17.112417, 17.103040, 17.078974, null, 17.121171, 17.118235, 17.102886, null, null, null, 17.115236, 17.114630, null, null, 17.126111, 17.121254, 17.112588, null, 17.125884, 17.125438, null, 17.070983, null, null, 17.117899, 17.117899, 17.117899, null, null, 17.103504, 17.101578, 17.088770, null, 17.185456, null, null, 17.086064, 17.083742, 17.189900, null, null, null, null];\nlet line1 = [//zobrazuje sa to naopak (posledna je prva)\nnull, null, 'entrance to the tunnel', null, null, null, null, 'every thing has a meaning', 'colorful jungle', null, null, 'welcoming tree', 'the voice of water', 'circular concrete bench', null, null, 'tree family', 'just some more', null, null, null, 'tree trunk on rocks', 'gothic tower', null, null, 'trains, trucks, busses, cars,', 'on a bike', 'a new pedestrian bridge', 'metal construction,', null, null, null, 'electrical distribution box', 'which of the leaves', 'danube on one side', null, 'old city buildings', 'missing bricks', 'a bench in the castle grounds', null, null, null, 'flowers on concrete', 'home of green leaves', null, null, 'thirteen yellow stripes', 'an old entrance', 'yellow trash bin', null, 'concrete seat near instropolis building', 'red stairs, red tubes', null, 'very bratislava style', null, null, 'a fragment of the space', 'a fragment of the space', 'a fragment of the space,', null, null, 'a beautiful 70s', 'street art bunker', 'a crossroad in the mountain park', null, 'wavy rotten fence', null, null, 'good homeless people warn me', 'unknown rusty object', 'a waterbike on a shore', null, null, null, null];\nlet line2 = [//zobrazuje sa to naopak (posledna je prva)\nnull, null, 'of the unfinished metro', null, null, null, null, 'in this place', 'under city highway', null, null, 'ideal for climbing and resting', 'flowing through petrzalka', 'where nature rests', null, null, 'in the riverside forest', 'trees in the city forest', null, null, null, 'fed by danube', 'in the city park', null, null, 'cyclists, runners, pedestrians, dogs', 'around wavy bridge pillar', 'may replace this place', 'under and above at the same time', null, null, null, 'of a beautiful modernist residential building', 'actually belong to this tree?', 'people on the other', null, 'surrounding a little nature', 'in a brick post', 'isolated from the chaos', null, null, null, 'behind prior shopping center', 'and yellow plastic bags', null, null, 'giving second life', 'on the moscow street', 'on the sunny square of freedom', null, 'is perfect fast food eating place', 'glass panels, yellow sign', null, 'tiled corner of university', null, null, 'surrounded by trees', 'in the city park', 'children climb on this one', null, null, 'road construction board', 'under calvary crosses', 'guarded by this veteran', null, 'hiding other worlds', null, null, 'to watch out for bad homeless people', 'which appared not to be abandoned', 'waiting without any movement', null, null, null, null]; // First ordinament is randomly selected here\n\nconst randomFirst = () => {\n  var randomFirstTry = Math.floor(Math.random() * 75 + 1);\n\n  while (!locationLat[randomFirstTry - 1]) {\n    randomFirstTry = Math.floor(Math.random() * 75 + 1);\n  }\n\n  return randomFirstTry;\n};\n\nlet activeId = randomFirst(); // Categories\n\nconst Category = props => {\n  let categoryClass = 'category-' + props.name; //navigation.css\n\n  if (props.active) {\n    categoryClass = 'category-' + props.name + ' category-' + props.name + '-active';\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: categoryClass,\n    id: props.key,\n    name: props.name,\n    onClick: props.categorySelect\n  }, props.key, false, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n};\n\n_c = Category;\n\nconst buildCategoriesState = () => {\n  const categoriesState = {}; // Calculate details for each circle\n\n  for (let key = 1; key <= 4; key++) {\n    const categoryDetails = {\n      active: false\n    };\n    categoriesState[key] = categoryDetails;\n  }\n\n  if (activeCategory !== 0) {\n    categoriesState[activeCategory].active = true;\n  }\n\n  return categoriesState;\n}; // Circle\n\n\nconst FragmentCircle = props => {\n  let circleClass = 'circle circle-unknown'; //navigation.css\n\n  if (props.empty) {\n    circleClass = 'circle circle-empty';\n  } else {\n    if (props.discovered) {\n      circleClass = 'circle circle-discovered';\n    }\n\n    if (props.active) {\n      circleClass = 'circle circle-active';\n    }\n\n    if (props.highlighted) {\n      circleClass += ' circle-highlighted';\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: circleClass,\n    id: props.key,\n    onClick: props.handleClick\n  }, props.key, false, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 5\n  }, this);\n};\n\n_c2 = FragmentCircle;\n\nconst buildMatrixState = (rowCount, rowLength) => {\n  const totalCircles = rowCount * rowLength;\n  const matrixState = {};\n\n  for (let key = 1; key <= totalCircles; key++) {\n    const circleDetails = {\n      active: false,\n      discovered: false,\n      highlighted: false,\n      empty: false\n    };\n\n    if (!locationLat[key - 1]) {\n      circleDetails.empty = true;\n    }\n\n    matrixState[key] = circleDetails;\n  }\n\n  matrixState[activeId].active = true;\n  return matrixState;\n}; //\n//\n// Class\n//\n//\n\n\nclass Navigation extends Component {\n  constructor(props) {\n    super(props);\n    const initialRowCount = 15;\n    const initialRowLength = 5; //aby sa pri prepinani medzi music/static modom zachoval stav navigacie\n\n    if (matrixNavigation === null) {\n      matrixNavigation = buildMatrixState(initialRowCount, initialRowLength);\n    }\n\n    this.state = {\n      rowCount: initialRowCount,\n      rowLength: initialRowLength,\n      categories: buildCategoriesState(),\n      matrix: matrixNavigation\n    };\n    this.props.handleIdChange(activeId);\n    this.handleClick = this.handleClick.bind(this);\n    this.categorySelect = this.categorySelect.bind(this);\n    this.handleMusic = this.handleMusic.bind(this);\n    this.handleInfo = this.handleInfo.bind(this);\n  } // CATEGORIES\n\n\n  categoryHighlight(matrix, id) {\n    for (let key = 0; key < toHighlight[id].length; key++) {\n      matrix[toHighlight[id][key]].highlighted = true;\n    }\n\n    return matrix;\n  }\n\n  stopHighlight(matrix, previous) {\n    for (let key = 0; key < toHighlight[previous].length; key++) {\n      matrix[toHighlight[previous][key]].highlighted = false;\n    }\n\n    return matrix;\n  }\n\n  categorySelect(e) {\n    const matrix = this.state.matrix;\n    const categories = this.state.categories;\n    const id = e.target.id;\n\n    if (activeCategory === 0) {\n      categories[id].active = true;\n      this.categoryHighlight(matrix, id - 1);\n      activeCategory = id;\n    } else {\n      if (activeCategory === id) {\n        categories[id].active = false;\n        this.stopHighlight(matrix, activeCategory - 1);\n        activeCategory = 0;\n      } else {\n        categories[activeCategory].active = false;\n        categories[id].active = true;\n        this.stopHighlight(matrix, activeCategory - 1);\n        this.categoryHighlight(matrix, id - 1);\n        activeCategory = id;\n      }\n    }\n\n    this.setState({\n      categories,\n      matrix\n    });\n    matrixNavigation = this.state.matrix; // this.props.handleCategoryChange(categories);\n    // this.props.handleMatrixChange(matrix);\n  }\n\n  categoriesBuilder() {\n    var cats = [];\n    cats.push(Category({\n      key: 1,\n      name: 'nature',\n      active: this.state.categories[1].active,\n      categorySelect: this.categorySelect\n    }));\n    cats.push(Category({\n      key: 2,\n      name: 'industrial',\n      active: this.state.categories[2].active,\n      categorySelect: this.categorySelect\n    }));\n    cats.push(Category({\n      key: 3,\n      name: 'street',\n      active: this.state.categories[3].active,\n      categorySelect: this.categorySelect\n    }));\n    cats.push(Category({\n      key: 4,\n      name: 'waterside',\n      active: this.state.categories[4].active,\n      categorySelect: this.categorySelect\n    }));\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\" \", cats, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 14\n    }, this);\n  } // NAVIGATION\n\n\n  handleClick(e) {\n    const matrix = this.state.matrix;\n    const id = e.target.id;\n    matrix[id].active = true;\n    matrix[activeId].active = false;\n    matrix[activeId].discovered = true;\n    this.setState({\n      matrix\n    });\n    activeId = id;\n    this.props.handleIdChange(id); // this.props.handleMatrixChange(matrix);\n\n    matrixNavigation = this.state.matrix;\n  }\n\n  rowBuilder(rowCount, rowLength, rows = []) {\n    if (rowCount > 0) {\n      const circleKey = rowCount * rowLength;\n      rows.push(this.circleBuilder(circleKey, rowCount, rowLength));\n      return this.rowBuilder(rowCount - 1, rowLength, rows);\n    }\n\n    return rows;\n  }\n\n  circleBuilder(circleKey, rowCount, rowLength, row = []) {\n    if (rowLength > 0) {\n      const circle = this.state.matrix[circleKey];\n      row.push(FragmentCircle({\n        key: circleKey,\n        active: circle.active,\n        discovered: circle.discovered,\n        highlighted: circle.highlighted,\n        empty: circle.empty,\n        handleClick: this.handleClick\n      }));\n      return this.circleBuilder(circleKey - 1, rowCount, rowLength - 1, row);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: row\n    }, 'row-' + rowCount, false, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 13\n    }, this);\n  } // MUSIC BUTTON\n\n\n  handleMusic() {\n    var media = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || false;\n\n    if (media) {\n      music = !music;\n      this.props.handleMusicChange(music);\n    } else {\n      // Web Audio API is not supported\n      // Alert the user\n      alert(\"Oh, music mode is not supported by this browser. Try Google Chrome or Mozilla Firefox.\");\n    }\n  }\n\n  musicButtonBuilder() {\n    let musicClass = 'musicbutton'; //navigation.css\n\n    if (music) {\n      musicClass += ' musicbutton-active';\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: musicClass,\n      onClick: this.handleMusic\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 7\n    }, this);\n  } // SECONDARY BUTTONS\n\n\n  handleInfo() {\n    this.props.handleInfoChange(true);\n  }\n\n  secondaryBuilder() {\n    const mapLink = \"https://mapy.cz/zakladni?q=\" + locationLat[activeId - 1] + \",\" + locationLng[activeId - 1]; //const mapLink = \"https://www.google.com/maps/search/?api=1&query=\" + locationLat[activeId-1] + \",\" + locationLng[activeId-1];\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: 'description',\n        children: [line1[activeId - 1], /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 57\n        }, this), line2[activeId - 1]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: mapLink,\n        rel: \"noreferrer\",\n        target: \"_blank\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'secondary-map'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'secondary-info',\n        onClick: this.handleInfo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 7\n    }, this);\n  } // RENDER\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navigation\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: MapTitle,\n          alt: \"MAP\",\n          className: \"map\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this), this.rowBuilder(this.state.rowCount, this.state.rowLength)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cats\",\n        children: [this.categoriesBuilder(), this.musicButtonBuilder()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: HighlightTitle,\n        alt: \"HIGHLIGHT\",\n        className: \"highlight\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"secondary\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: Ordinament,\n          alt: \"ORDINAMENT\",\n          className: \"ordinament\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this), this.secondaryBuilder()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Navigation;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Category\");\n$RefreshReg$(_c2, \"FragmentCircle\");","map":{"version":3,"sources":["/Users/samo/Documents/VSVU/Fragmenty/fragmenty-web/src/Navigation.js"],"names":["React","Component","activeCategory","music","matrixNavigation","toHighlight","locationLat","locationLng","line1","line2","randomFirst","randomFirstTry","Math","floor","random","activeId","Category","props","categoryClass","name","active","key","categorySelect","buildCategoriesState","categoriesState","categoryDetails","FragmentCircle","circleClass","empty","discovered","highlighted","handleClick","buildMatrixState","rowCount","rowLength","totalCircles","matrixState","circleDetails","Navigation","constructor","initialRowCount","initialRowLength","state","categories","matrix","handleIdChange","bind","handleMusic","handleInfo","categoryHighlight","id","length","stopHighlight","previous","e","target","setState","categoriesBuilder","cats","push","rowBuilder","rows","circleKey","circleBuilder","row","circle","media","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","handleMusicChange","alert","musicButtonBuilder","musicClass","handleInfoChange","secondaryBuilder","mapLink","render","MapTitle","HighlightTitle","Ordinament"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './navigation.css';\n\nimport HighlightTitle from './svg/highlight.svg';\nimport MapTitle from './svg/map.svg';\nimport Ordinament from './svg/ordinament.svg';\n\nlet activeCategory = 0;\nlet music = false;\nlet matrixNavigation = null;\n\nconst toHighlight = [[12,17,18,22,34,64,66],[13,26,28,29,33,66,70,71],[33,37,38,43,44,48,49,51,54,62,69],[12,13,22,26,27,28,29,35,71]];\n\nconst locationLat = [\n  null, null, 48.093801, null, null,\n  null, null, 48.094523, 48.093969, null,\n  null, 48.107734, 48.102450, 48.097751, null,\n  null, 48.136113, 48.136113, null, null,\n  null, 48.135618, 48.134045, null, null,\n  48.133760, 48.134358, 48.136586, 48.136929, null,\n  null, null, 48.141532, 48.141907, 48.143161,\n  null, 48.143850, 48.144397, 48.142289, null,\n  null, null, 48.145405, 48.146161, null,\n  null, 48.150013, 48.151375, 48.152720, null,\n  48.158561, 48.157362, null, 48.148841, null,\n  null, 48.159203, 48.159203, 48.159203, null,\n  null, 48.159959, 48.160330, 48.160187, null,\n  48.178587, null, null, 48.166760, 48.166361,\n  48.187033, null, null, null, null,\n];\nconst locationLng = [\n  null, null, 17.109355, null, null,\n  null, null, 17.109346, 17.109271, null,\n  null, 17.119957, 17.108921, 17.110219, null,\n  null, 17.120805, 17.120805, null, null,\n  null, 17.130201, 17.113912, null, null,\n  17.138520, 17.128285, 17.122677, 17.104718, null,\n  null, null, 17.112417, 17.103040, 17.078974,\n  null, 17.121171, 17.118235, 17.102886, null,\n  null, null, 17.115236, 17.114630, null,\n  null, 17.126111, 17.121254, 17.112588, null,\n  17.125884, 17.125438, null, 17.070983, null,\n  null, 17.117899, 17.117899, 17.117899, null,\n  null, 17.103504, 17.101578, 17.088770, null,\n  17.185456, null, null, 17.086064, 17.083742,\n  17.189900, null, null, null, null,\n];\n\nlet line1 = [ //zobrazuje sa to naopak (posledna je prva)\n  null, null, 'entrance to the tunnel', null, null,\n  null, null, 'every thing has a meaning', 'colorful jungle', null,\n  null, 'welcoming tree', 'the voice of water', 'circular concrete bench', null,\n  null, 'tree family', 'just some more', null, null,\n  null, 'tree trunk on rocks', 'gothic tower', null, null,\n  'trains, trucks, busses, cars,', 'on a bike', 'a new pedestrian bridge', 'metal construction,', null,\n  null, null, 'electrical distribution box', 'which of the leaves', 'danube on one side',\n  null, 'old city buildings', 'missing bricks', 'a bench in the castle grounds', null,\n  null, null, 'flowers on concrete', 'home of green leaves', null,\n  null, 'thirteen yellow stripes', 'an old entrance', 'yellow trash bin', null,\n  'concrete seat near instropolis building', 'red stairs, red tubes', null, 'very bratislava style', null,\n  null, 'a fragment of the space', 'a fragment of the space', 'a fragment of the space,', null,\n  null, 'a beautiful 70s', 'street art bunker', 'a crossroad in the mountain park', null,\n  'wavy rotten fence', null, null, 'good homeless people warn me', 'unknown rusty object',\n  'a waterbike on a shore', null, null, null, null,\n];\n\nlet line2 = [ //zobrazuje sa to naopak (posledna je prva)\n  null, null, 'of the unfinished metro', null, null,\n  null, null, 'in this place', 'under city highway', null,\n  null, 'ideal for climbing and resting', 'flowing through petrzalka', 'where nature rests', null,\n  null, 'in the riverside forest', 'trees in the city forest', null, null,\n  null, 'fed by danube', 'in the city park', null, null,\n  'cyclists, runners, pedestrians, dogs', 'around wavy bridge pillar', 'may replace this place', 'under and above at the same time', null,\n  null, null, 'of a beautiful modernist residential building', 'actually belong to this tree?', 'people on the other',\n  null, 'surrounding a little nature', 'in a brick post', 'isolated from the chaos', null,\n  null, null, 'behind prior shopping center', 'and yellow plastic bags', null,\n  null, 'giving second life', 'on the moscow street', 'on the sunny square of freedom', null,\n  'is perfect fast food eating place', 'glass panels, yellow sign', null, 'tiled corner of university', null,\n  null, 'surrounded by trees', 'in the city park', 'children climb on this one', null,\n  null, 'road construction board', 'under calvary crosses', 'guarded by this veteran', null,\n  'hiding other worlds', null, null, 'to watch out for bad homeless people', 'which appared not to be abandoned',\n  'waiting without any movement', null, null, null, null,\n];\n\n// First ordinament is randomly selected here\n\nconst randomFirst = () => {\n  var randomFirstTry = Math.floor((Math.random() * 75) + 1);\n\n  while (!locationLat[randomFirstTry-1]) {\n    randomFirstTry = Math.floor((Math.random() * 75) + 1);\n  }\n\n  return randomFirstTry\n}\n\nlet activeId = randomFirst();\n\n// Categories\n\nconst Category = props => {\n  let categoryClass = 'category-'+props.name; //navigation.css\n  if (props.active) {\n    categoryClass = 'category-'+props.name+' category-'+props.name+'-active';\n  }\n\n  return (\n    <div\n      className={categoryClass}\n      id={props.key}\n      key={props.key}\n      name={props.name}\n      onClick={props.categorySelect}\n    />\n  );\n}\n\nconst buildCategoriesState = () => {\n  const categoriesState = {};\n\n  // Calculate details for each circle\n  for (let key = 1; key <= 4; key++) {\n    const categoryDetails = {\n      active: false,\n    };\n\n    categoriesState[key] = categoryDetails;\n  }\n\n  if (activeCategory !== 0) {\n    categoriesState[activeCategory].active = true;\n  }\n\n  return categoriesState;\n}\n\n// Circle\n\nconst FragmentCircle = props => {\n  let circleClass = 'circle circle-unknown'; //navigation.css\n\n  if (props.empty) {\n    circleClass = 'circle circle-empty';\n  } else {\n    if (props.discovered) {\n      circleClass = 'circle circle-discovered';\n    }\n    if (props.active) {\n      circleClass = 'circle circle-active';\n    }\n    if (props.highlighted) {\n      circleClass += ' circle-highlighted';\n    }\n  }\n\n  return (\n    <div\n      className={circleClass}\n      id={props.key}\n      key={props.key}\n      onClick={props.handleClick}\n    />\n  );\n}\n\nconst buildMatrixState = (rowCount, rowLength) => {\n  const totalCircles = rowCount * rowLength;\n  const matrixState = {};\n\n  for (let key = 1; key <= totalCircles; key++) {\n    const circleDetails = {\n      active: false,\n      discovered: false,\n      highlighted: false,\n      empty: false,\n    };\n\n    if (!locationLat[key-1]) {\n      circleDetails.empty = true;\n    }\n\n    matrixState[key] = circleDetails;\n  }\n  matrixState[activeId].active = true;\n\n  return matrixState;\n}\n\n//\n//\n// Class\n//\n//\n\nclass Navigation extends Component {\n  constructor(props) {\n    super(props)\n    const initialRowCount = 15;\n    const initialRowLength = 5;\n\n    //aby sa pri prepinani medzi music/static modom zachoval stav navigacie\n    if (matrixNavigation === null) {\n      matrixNavigation = buildMatrixState(initialRowCount, initialRowLength);\n    }\n\n    this.state = {\n      rowCount: initialRowCount,\n      rowLength: initialRowLength,\n      categories: buildCategoriesState(),\n      matrix: matrixNavigation\n    };\n\n    this.props.handleIdChange(activeId);\n\n    this.handleClick = this.handleClick.bind(this);\n    this.categorySelect = this.categorySelect.bind(this);\n    this.handleMusic = this.handleMusic.bind(this);\n    this.handleInfo = this.handleInfo.bind(this);\n  }\n\n  // CATEGORIES\n\n  categoryHighlight(matrix, id) {\n    for (let key = 0; key < toHighlight[id].length; key++) {\n      matrix[toHighlight[id][key]].highlighted = true;\n    }\n    return matrix;\n  }\n\n  stopHighlight(matrix, previous) {\n    for (let key = 0; key < toHighlight[previous].length; key++) {\n      matrix[toHighlight[previous][key]].highlighted = false;\n    }\n    return matrix;\n  }\n\n  categorySelect(e) {\n    const matrix = this.state.matrix;\n    const categories = this.state.categories;\n    const id = e.target.id;\n\n    if (activeCategory === 0) {\n      categories[id].active = true;\n      this.categoryHighlight(matrix, id-1);\n      activeCategory = id;\n    } else {\n      if (activeCategory === id) {\n        categories[id].active = false;\n        this.stopHighlight(matrix, activeCategory-1);\n        activeCategory = 0;\n      } else {\n        categories[activeCategory].active = false;\n        categories[id].active = true;\n        this.stopHighlight(matrix, activeCategory-1);\n        this.categoryHighlight(matrix, id-1);\n        activeCategory = id;\n      }\n    }\n    \n    this.setState({ categories, matrix });\n    matrixNavigation = this.state.matrix;\n    // this.props.handleCategoryChange(categories);\n    // this.props.handleMatrixChange(matrix);\n  }\n\n  categoriesBuilder() {\n    var cats = [];\n\n    cats.push(Category({\n      key: 1,\n      name: 'nature',\n      active: this.state.categories[1].active,\n      categorySelect: this.categorySelect,\n    }));\n    cats.push(Category({\n      key: 2,\n      name: 'industrial',\n      active: this.state.categories[2].active,\n      categorySelect: this.categorySelect,\n    }));\n    cats.push(Category({\n      key: 3,\n      name: 'street',\n      active: this.state.categories[3].active,\n      categorySelect: this.categorySelect,\n    }));\n    cats.push(Category({\n      key: 4,\n      name: 'waterside',\n      active: this.state.categories[4].active,\n      categorySelect: this.categorySelect,\n    }));\n\n    return ( <div> {cats} </div> );\n  }\n\n  // NAVIGATION\n\n  handleClick(e) {\n    const matrix = this.state.matrix;\n    const id = e.target.id;\n\n    matrix[id].active = true;\n    matrix[activeId].active = false;\n    matrix[activeId].discovered = true;\n\n    this.setState({ matrix });\n    activeId = id;\n    this.props.handleIdChange(id);\n    // this.props.handleMatrixChange(matrix);\n    matrixNavigation = this.state.matrix;\n  }\n\n  rowBuilder(rowCount, rowLength, rows = []) {\n    if (rowCount > 0) {\n      const circleKey = rowCount * rowLength;\n      rows.push(this.circleBuilder(circleKey, rowCount, rowLength));\n\n      return this.rowBuilder(rowCount - 1, rowLength, rows);\n    }\n    return rows\n  }\n\n  circleBuilder(circleKey, rowCount, rowLength, row = []) {\n    if (rowLength > 0) {\n      const circle = this.state.matrix[circleKey];\n\n      row.push(FragmentCircle({\n        key: circleKey,\n        active: circle.active,\n        discovered: circle.discovered,\n        highlighted: circle.highlighted,\n        empty: circle.empty,\n        handleClick: this.handleClick,\n      }));\n\n      return this.circleBuilder(circleKey - 1, rowCount, rowLength - 1, row);\n    }\n    return (<div key={'row-' + rowCount}>{row}</div>);\n  }\n\n  // MUSIC BUTTON\n\n  handleMusic() {\n    var media = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || false; \n\n    if (media) {\n      music = !music;\n      this.props.handleMusicChange(music);\n    } else {\n        // Web Audio API is not supported\n        // Alert the user\n        alert(\"Oh, music mode is not supported by this browser. Try Google Chrome or Mozilla Firefox.\");\n    }\n  }\n\n  musicButtonBuilder() {\n    let musicClass = 'musicbutton'; //navigation.css\n    if (music) {\n      musicClass += ' musicbutton-active';\n    }\n\n    return (\n      <div\n        className={musicClass}\n        onClick={this.handleMusic}\n      />\n    );\n  }\n\n  // SECONDARY BUTTONS\n\n  handleInfo() {\n    this.props.handleInfoChange(true);\n  }\n\n  secondaryBuilder() {\n    const mapLink = \"https://mapy.cz/zakladni?q=\" + locationLat[activeId-1] + \",\" + locationLng[activeId-1];\n    //const mapLink = \"https://www.google.com/maps/search/?api=1&query=\" + locationLat[activeId-1] + \",\" + locationLng[activeId-1];\n    \n    return (\n      <div>\n        <p className={'description'}>{line1[activeId-1]}<br/>{line2[activeId-1]}</p>\n        \n        <a href={mapLink} rel=\"noreferrer\" target=\"_blank\">\n          <div\n            className={'secondary-map'}\n          />\n        </a>\n\n        <div\n          className={'secondary-info'}\n          onClick={this.handleInfo}\n        />\n      </div>      \n    );\n  }\n\n  // RENDER\n\n  render() {\n    return (\n      <div>\n        <div className=\"navigation\">\n          <img src={MapTitle} alt='MAP' className=\"map\" />\n          {this.rowBuilder(this.state.rowCount, this.state.rowLength)}\n        </div>\n        <div className=\"cats\">\n          {this.categoriesBuilder()}\n          {this.musicButtonBuilder()}\n        </div>\n        <img src={HighlightTitle} alt='HIGHLIGHT' className=\"highlight\" />\n        <div className=\"secondary\">\n          <img src={Ordinament} alt='ORDINAMENT' className=\"ordinament\" />\n          {this.secondaryBuilder()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Navigation;"]},"metadata":{},"sourceType":"module"}